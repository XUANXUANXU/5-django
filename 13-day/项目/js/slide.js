var slideFn=function(){var n,e,i,s=$(".banner-slide"),c=s.find("li"),a=$(".banner-arrow-btn"),t=$(".banner-dots").find("dd"),d=c.length,o=function(){n=$(window).width(),1100>n&&(n=1100),e=location.pathname.match("/item/")||location.pathname.match("/presell/")?785*n/1920:location.pathname.match("e/stage")?759*n/1920:location.pathname.match("/guide/new-user")?480*n/1920:640*n/1920,s.animate({height:e},500,function(){location.pathname.indexOf("designer/")>-1&&($(".designer-infor-box").css("height",.86*e-110),$(".designer-infor-layer").fadeIn(500))}),s.find("img").height(e).delay(500).fadeIn()};$(window).resize(function(){o()});var l=function(){i=parseInt(c.css("z-index")),c.eq(0).css("z-index",i+1).show()},f=function(){var n,e=0,s=1e3,a=$(".double11-countdown"),o=function(n){n==d-1?(c.eq(n).fadeOut(s).css("z-index",i-1),c.eq(0).fadeIn(s).css("z-index",i+1),t.eq(0).addClass("click").siblings().removeClass("click")):(c.eq(n).fadeOut(s).css("z-index",i-1),c.eq(n+1).fadeIn(s).css("z-index",i+1),t.eq(n+1).addClass("click").siblings().removeClass("click")),d-1>e?e++:e=0,0==e?a.css("opacity",1):a.css("opacity",0)},l=function(n){0==n?(c.eq(n).fadeOut(s).css("z-index",i-1),c.eq(d-1).fadeIn(s).css("z-index",i+1),t.eq(d-1).addClass("click").siblings().removeClass("click")):(c.eq(n).fadeOut(s).css("z-index",i-1),c.eq(n-1).fadeIn(s).css("z-index",i+1),t.eq(n-1).addClass("click").siblings().removeClass("click")),e>0?e--:e=d-1,0==e?a.css("opacity",1):a.css("opacity",0)};$(document).on("click",".banner-btn-prev",function(){c.is(":animated")||(r(),l(e),f())}),$(document).on("click",".banner-btn-next",function(){c.is(":animated")||(r(),o(e),f())}),c.hover(function(){r()},function(){f()});t.hover(function(){var n=$(this),t=n.index();r(),n.addClass("click").siblings().removeClass("click"),c.stop(!0,!0).eq(t).fadeIn(s).css("z-index",i+1).siblings("li").fadeOut(s).css("z-index",i-1),e=t,0==e?a.css("opacity",1):a.css("opacity",0)},function(){f()});var f=function(){n=setInterval(function(){o(e)},5e3)},r=function(){clearInterval(n)};f()};return{init:function(){o(),l(),d>1?f():a.hide()}}}();$(function(){slideFn.init()});